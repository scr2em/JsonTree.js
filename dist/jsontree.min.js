/*! JsonTree.js v0.3.0 | (c) Bunoon 2024 | MIT License */
(function(){function I(){for(var a=g.domElementTypes,c=a.length,b=0;b<c;b++){var d=y.getElementsByTagName(a[b]);d=[].slice.call(d);for(var f=d.length,e=0;e<f;e++){var l=d[e],u=!0;if(m(l)&&l.hasAttribute("data-jsontree-options")){var p=l.getAttribute("data-jsontree-options");v(p)?(p=S(p),p.parsed&&q(p.result)?J(K(p.result,l)):g.safeMode||(console.error("The attribute 'data-jsontree-options' is not a valid object."),u=!1)):g.safeMode||(console.error("The attribute 'data-jsontree-options' has not been set correctly."),
u=!1)}if(!u)break}}}function K(a,c){var b,d=b=q(a)?a:{};var f=b.data;f=q(f)?f:null;d.data=f;b.showCounts=n(b.showCounts,!0);b.useZeroIndexingForArrays=n(b.useZeroIndexingForArrays,!0);b.dateTimeFormat=x(b.dateTimeFormat,"{yyyy}-{mm}-{dd}T{hh}:{MM}:{ss}Z");b.showArrowToggles=n(b.showArrowToggles,!0);b.showStringQuotes=n(b.showStringQuotes,!0);b.showTitle=n(b.showTitle,!0);b.showTitleTreeControls=n(b.showTitleTreeControls,!0);b.showAllAsClosed=n(b.showAllAsClosed,!1);b.sortPropertyNames=n(b.sortPropertyNames,
!0);b.sortPropertyNamesInAlphabeticalOrder=n(b.sortPropertyNamesInAlphabeticalOrder,!0);b.showCommas=n(b.showCommas,!1);b.titleText=x(b.titleText,"JsonTree.js");b.onBeforeRender=E(b.onBeforeRender,null);b.onRenderComplete=E(b.onRenderComplete,null);b.onValueClick=E(b.onValueClick,null);b.onRefresh=E(b.onRefresh,null);b.currentView={};b.currentView.element=c;return b}function J(a){z(a.onBeforeRender,a.element);if(!v(a.currentView.element.id)){var c=a.currentView.element;var b=[];for(var d=0;32>d;d++){8!==
d&&12!==d&&16!==d&&20!==d||b.push("-");var f=F.floor(16*F.random()).toString(16);b.push(f)}b=b.join(w.empty);c.id=b}a.currentView.element.className="json-tree-js";a.currentView.element.removeAttribute("data-jsontree-options");r.hasOwnProperty(a.currentView.element.id)||(r[a.currentView.element.id]={},r[a.currentView.element.id].options=a,r[a.currentView.element.id].data=a.data,delete a.data);A(a);z(a.onRenderComplete,a.currentView.element)}function A(a){var c=r[a.currentView.element.id].data;a.currentView.element.innerHTML=
w.empty;T(a);if(q(c)&&!B(c)){var b=a.currentView.element,d=k(b,"div","object-type-title");b=k(b,"div","object-type-contents");var f=a.showArrowToggles?k(d,"div","down-arrow"):null;c=L(f,b,a,c);h(d,"span","object",g.objectText);a.showCounts&&0<c&&h(d,"span","object count","{"+c+"}")}else B(c)&&(b=a.currentView.element,d=k(b,"div","object-type-title"),b=k(b,"div","object-type-contents"),f=a.showArrowToggles?k(d,"div","down-arrow"):null,h(d,"span","array",g.arrayText),M(f,b,a,c),a.showCounts&&h(d,"span",
"array count","["+c.length+"]"))}function T(a){if(a.showTitle||a.showTitleTreeControls){var c=k(a.currentView.element,"div","title-bar");a.showTitle&&h(c,"div","title",a.titleText);if(a.showTitleTreeControls){var b=k(c,"div","controls");c=h(b,"button","openAll",g.openAllButtonText);b=h(b,"button","closeAll",g.closeAllButtonText);c.onclick=function(){a.showAllAsClosed=!1;A(a)};b.onclick=function(){a.showAllAsClosed=!0;A(a)}}}}function L(a,c,b,d){var f=0,e=[];for(l in d)d.hasOwnProperty(l)&&e.push(l);
b.sortPropertyNames&&(e=e.sort(),b.sortPropertyNamesInAlphabeticalOrder||(e=e.reverse()));var l=e.length;for(var u=0;u<l;u++){var p=e[u];d.hasOwnProperty(p)&&(N(c,b,p,d[p],u===l-1),f++)}O(b,a,c);return f}function M(a,c,b,d){for(var f=d.length,e=0;e<f;e++)N(c,b,b.useZeroIndexingForArrays?e.toString():(e+1).toString(),d[e],e===f-1);O(b,a,c)}function N(a,c,b,d,f){var e=k(a,"div","object-type-value"),l=c.showArrowToggles?k(e,"div","no-arrow"):null;a=null;h(e,"span","title",b);h(e,"span","split",":");
m(d)?C(d)?(a=d.toString().split("(")[0].split(w.space),a=h(e,"span","function",(2===a.length?a[1]:a[0])+"()"),t(c,e,f)):P(d)?(a=h(e,"span","boolean",d),t(c,e,f)):m(d)&&"number"===typeof d&&0!==d%1?(a=h(e,"span","decimal",d),t(c,e,f)):m(d)&&"number"===typeof d?(a=h(e,"span","number",d),t(c,e,f)):v(d)?(a=h(e,"span","string",c.showStringQuotes?'"'+d+'"':d),t(c,e,f)):q(d)&&d instanceof Date?(a=c.dateTimeFormat.replace("{hh}",D(d.getHours())),a=a.replace("{h}",d.getHours()),a=a.replace("{MM}",D(d.getMinutes())),
a=a.replace("{M}",d.getMinutes()),a=a.replace("{ss}",D(d.getSeconds())),a=a.replace("{s}",d.getSeconds()),a=a.replace("{dd}",D(d.getDate())),a=a.replace("{d}",d.getDate()),a=a.replace("{mm}",D(d.getMonth()+1)),a=a.replace("{m}",d.getMonth()+1),a=a.replace("{yyyy}",d.getFullYear()),a=a.replace("{yyy}",d.getFullYear().toString().substring(1)),a=a.replace("{yy}",d.getFullYear().toString().substring(2)),a=a.replace("{y}",parseInt(d.getFullYear().toString().substring(2)).toString()),a=h(e,"span","date",
a),t(c,e,f)):q(d)&&!B(d)?(b=k(e,"span","object"),e=k(e,"div","object-type-contents"),e=L(l,e,c,d),h(b,"span","title",g.objectText),c.showCounts&&0<e&&h(b,"span","count","{"+e+"}"),t(c,b,f)):B(d)?(b=k(e,"span","array"),e=k(e,"div","object-type-contents"),h(b,"span","title",g.arrayText),c.showCounts&&h(b,"span","count","["+d.length+"]"),t(c,b,f),M(l,e,c,d)):(a=h(e,"span","unknown",d.toString()),t(c,e,f)):(a=h(e,"span","null","null"),t(c,e,f));m(a)&&U(c,a,d)}function U(a,c,b){C(a.onValueClick)?c.onclick=
function(){z(a.onValueClick,b)}:c.className+=w.space+"no-hover"}function O(a,c,b){m(c)&&(c.onclick=function(){"down-arrow"===c.className?(b.style.display="none",c.className="right-arrow"):(b.style.display="block",c.className="down-arrow")},a.showAllAsClosed?(b.style.display="none",c.className="right-arrow"):c.className="down-arrow")}function t(a,c,b){a.showCommas&&!b&&h(c,"span","comma",",")}function k(a,c,b,d){c=c.toLowerCase();var f="text"===c;G.hasOwnProperty(c)||(G[c]=f?y.createTextNode(w.empty):
y.createElement(c));c=G[c].cloneNode(!1);m(b)&&(c.className=b);m(d)?a.insertBefore(c,d):a.appendChild(c);return c}function h(a,c,b,d,f){a=k(a,c,b,f);a.innerHTML=d;return a}function m(a){return null!==a&&void 0!==a&&a!==w.empty}function q(a){return m(a)&&"object"===typeof a}function P(a){return m(a)&&"boolean"===typeof a}function v(a){return m(a)&&"string"===typeof a}function C(a){return m(a)&&"function"===typeof a}function B(a){return q(a)&&a instanceof Array}function z(a){C(a)&&a.apply(null,[].slice.call(arguments,
1))}function x(a,c){return v(a)?a:c}function n(a,c){return P(a)?a:c}function E(a,c){return C(a)?a:c}function S(a){var c=!0,b=null;try{v(a)&&(b=Q.parse(a))}catch(d){try{b=eval("("+a+")"),C(b)&&(b=b())}catch(f){g.safeMode||(console.error("Errors in object: "+d.message+", "+f.message),c=!1),b=null}}return{parsed:c,result:b}}function D(a){a=a.toString();return 1===a.length?"0"+a:a}function R(a){g=q(a)?a:{};g.safeMode=n(g.safeMode,!0);a=g;var c=g.domElementTypes,b=["*"];v(c)?(c=c.split(w.space),0===c.length&&
(c=b)):c=B(c)?c:b;a.domElementTypes=c;g.objectText=x(g.objectText,"object");g.arrayText=x(g.arrayText,"array");g.closeAllButtonText=x(g.closeAllButtonText,"Close All");g.openAllButtonText=x(g.openAllButtonText,"Open All")}var y=null,H=null,F=null,Q=null,g={},G={},r={},w={empty:"",space:" "};this.refresh=function(a){v(a)&&r.hasOwnProperty(a)&&(a=r[a].options,A(a),z(a.onRefresh,a.currentView.element));return this};this.refreshAll=function(){for(var a in r)if(r.hasOwnProperty(a)){var c=r[a].options;
A(c);z(c.onRefresh,c.currentView.element)}return this};this.render=function(a,c){q(a)&&q(c)&&J(K(c,a));return this};this.renderAll=function(){I();return this};this.setConfiguration=function(a){for(var c in a)a.hasOwnProperty(c)&&(g[c]=a[c]);R(g);return this};this.getVersion=function(){return"0.3.0"};(function(a,c,b,d){y=a;H=c;F=b;Q=d;R();y.addEventListener("DOMContentLoaded",function(){I()});m(H.$jsontree)||(H.$jsontree=this)})(document,window,Math,JSON)})();